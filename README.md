# anbernic_utility
Набор утилит для работы с портативными консолями anbernic на стоковой прошивке.

## Подключение к консоли
На стоковой прошивке не установлен ssh-сервер, для исследований и комфортной работы его нужно установить и настроить:

1. Копируем скрипты на консоль.  
Для этого копируем содержимое папки `configure_ssh` на карту памяти консоли по пути: `Roms/APPS`.
> **ВНИМАНИЕ!** Чтобы не испортить прошивку: полностью выключить консоль, достать SD-карту, вставить SD-карту в картридер, вставить картридер в ПК.  

2. Подключить консоль к Wi-Fi. Это необходимо для установки пакетов и дальнейшего подключения по ssh (компьютер должен быть в той же сети).  
Для этого переходим в `Настройки->Сетевые настройки->Настройка Wi-Fi`. В строке `Wi-Fi` нажимаем `A`, чтобы его включить. Появятся строки `Имя сети` и `Пароль`, выбираем вашу сеть и вводим пароль. После подключения в поле `IP-адрес` появится адрес консоли в локальной сети, для проверки доступности консоли можно пропинговать её с компьютера (адрес указывать ваш):
```bash
xelitu> ping 192.168.1.2

Обмен пакетами с 192.168.1.2 по с 32 байтами данных:
Ответ от 192.168.1.2: число байт=32 время=172мс TTL=64
Ответ от 192.168.1.2: число байт=32 время=1мс TTL=64
Ответ от 192.168.1.2: число байт=32 время=92мс TTL=64
```

3. Выполняем скрипт для установки ssh-сервера и его запуска.  
Есть два варианта запуска:
- **Вариант 1.** Переходим в `Приложения->APPS`, находим в списке скрипт `Enable_SSH` и нажимаем `A`, экран потемнеет на ~1 минуту, потом появится надпись `Exiting...`. Всё, сервер запущен.
- **Вариант 2.** Переходим в `Приложения->Проводник`. В проводнике переходим в `/mnt/mmc/Roms/APPS`, находим наш скрипт `Enable_SSH.sh` и нажимаем `A`, во всплывающем окне нажимаем `Execute`. Экран потемнеет на ~1 минуту, потом появится надпись `Exiting...`. Всё, сервер запущен.  

4. Заходим на консоль по SSH.  
Логин: `user`  
Пароль: `user`  
Например:
```bash
xelitu> ssh user@192.168.1.2
The authenticity of host '192.168.1.2 (192.168.1.2)' can't be established.
ED25519 key fingerprint is SHA256:vWIkSOQmQ+5ycFGF9WnR5nzrqkvPWS68oImYVOLAXFg.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.1.2' (ED25519) to the list of known hosts.
user@192.168.1.2's password:
Welcome to Ubuntu 22.04 LTS (GNU/Linux 4.9.170 aarch64)

Last login: Mon Feb 16 21:02:48 2026 from 192.168.1.1
user@ANBERNIC:~#
```

## Работа с консолью
На консоли работает Ubuntu 22.04:
```bash
root@ANBERNIC:~# lsb_release  -d
Description: Ubuntu 22.04 LTS
```
Поэтому на неё можно доставить пакеты, необходимые для сборки и собирать проекты прямо на неё, но этот путь долгий и не самый правильный. Я сделал `Docker-контейнер` с кросскомпилятором и всеми необходимыми библиотеками, в котором можно собирать проекты.  
По умолчанию в консоли установлена библиотека `SDL2`, с помощью которой уже можно создавать игры, но также там установлен `Python 3`, к которому можно доставить pygame и разрабатывать игры уже с ним...

## configure_ssh
Скрипт для запуска ssh-сервера на консоли.
В скрипте можно руками поменять логин и пароль, которые будут установлены для атворизации.

## render_app
Тест рендера на консоли.

## docker
Контейнер с кросскомпилятором, для сборки проектов на x86 хосте для aarch64 рахитектуры консоли.

